<!DOCTYPE html>
<html>
  <head>
    <!-- додаємо css стилі для mocha, щоб вивести результати -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.css"
    />
    <!-- додаємо фреймворк mocha до коду -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mocha/3.2.0/mocha.js"></script>
    <script>
      mocha.setup("bdd"); // вмикаємо тестування у bdd стилі
    </script>
    <!-- додаємо chai -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chai/3.5.0/chai.js"></script>
    <script>
      // chai має багато всього, давайте зробимо assert глобальним
      let assert = chai.assert;
    </script>
  </head>

  <body>
    <script>
      function pow(x,n){
        if(n < 0) return NaN;
        if(Math.round(n) !== n) return NaN;

        let result = 1;

        for(let i = 0; i < n;i++){
          result *= x;
        }

        return result;
      }
    </script>

    <!-- скрипт з тестами (describe, it...) -->
    <!-- <script src="test.js"></script> -->
    <script>
      //test
      // describe("pow",function(){
      //   it("підносіть 2 до 3-го ступеня",function(){
      //     assert.equal(pow(2,3),8);
      //   });
      //   it("підносіть 3 до 2-го ступеня",function(){
      //     assert.equal(pow(3,2),9);
      //   });
      // });

      describe("pow",function(){
        it("для від'ємного ступеня(n) результатом є NaN",function(){
          assert.isNaN(pow(3,-2));
        });
        it("для не цілого ступеня(n) результатом є NaN",function(){
          assert.isNaN(pow(3,5.5));
        });
      });
    </script>

    <!-- елемент з id="mocha" буде містити результати тестів -->
    <div id="mocha"></div>

    <!-- запускаємо тести! -->
    <script>
      mocha.run();
    </script>
  </body>
</html>
